{"ast":null,"code":"import \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.search.js\";\n// Utilities\nimport { computed, watch } from 'vue';\nimport { deepEqual, getCurrentInstance } from \"../../../util/index.mjs\"; // Types\nexport function useOptions(_ref) {\n  var page = _ref.page,\n    itemsPerPage = _ref.itemsPerPage,\n    sortBy = _ref.sortBy,\n    groupBy = _ref.groupBy,\n    search = _ref.search;\n  var vm = getCurrentInstance('VDataTable');\n  var options = computed(function () {\n    return {\n      page: page.value,\n      itemsPerPage: itemsPerPage.value,\n      sortBy: sortBy.value,\n      groupBy: groupBy.value,\n      search: search.value\n    };\n  });\n  var oldOptions = null;\n  watch(options, function () {\n    var _oldOptions;\n    if (deepEqual(oldOptions, options.value)) return;\n\n    // Reset page when searching\n    if (((_oldOptions = oldOptions) === null || _oldOptions === void 0 ? void 0 : _oldOptions.search) !== options.value.search) {\n      page.value = 1;\n    }\n    vm.emit('update:options', options.value);\n    oldOptions = options.value;\n  }, {\n    deep: true,\n    immediate: true\n  });\n}","map":{"version":3,"names":["computed","watch","deepEqual","getCurrentInstance","useOptions","_ref","page","itemsPerPage","sortBy","groupBy","search","vm","options","value","oldOptions","_oldOptions","emit","deep","immediate"],"sources":["../../../../src/components/VDataTable/composables/options.ts"],"sourcesContent":["// Utilities\nimport { computed, watch } from 'vue'\nimport { deepEqual, getCurrentInstance } from '@/util'\n\n// Types\nimport type { Ref } from 'vue'\nimport type { SortItem } from './sort'\n\nexport function useOptions ({\n  page,\n  itemsPerPage,\n  sortBy,\n  groupBy,\n  search,\n}: {\n  page: Ref<number>\n  itemsPerPage: Ref<number>\n  sortBy: Ref<readonly SortItem[]>\n  groupBy: Ref<readonly SortItem[]>\n  search: Ref<string | undefined>\n}) {\n  const vm = getCurrentInstance('VDataTable')\n\n  const options = computed(() => ({\n    page: page.value,\n    itemsPerPage: itemsPerPage.value,\n    sortBy: sortBy.value,\n    groupBy: groupBy.value,\n    search: search.value,\n  }))\n\n  let oldOptions: typeof options.value | null = null\n  watch(options, () => {\n    if (deepEqual(oldOptions, options.value)) return\n\n    // Reset page when searching\n    if (oldOptions?.search !== options.value.search) {\n      page.value = 1\n    }\n\n    vm.emit('update:options', options.value)\n    oldOptions = options.value\n  }, { deep: true, immediate: true })\n}\n"],"mappings":";;AAAA;AACA,SAASA,QAAQ,EAAEC,KAAK,QAAQ,KAAK;AAAA,SAC5BC,SAAS,EAAEC,kBAAkB,mCAEtC;AAIA,OAAO,SAASC,UAAUA,CAAAC,IAAA,EAYvB;EAAA,IAXDC,IAAI,GAWLD,IAAA,CAXCC,IAAI;IACJC,YAAY,GAUbF,IAAA,CAVCE,YAAY;IACZC,MAAM,GASPH,IAAA,CATCG,MAAM;IACNC,OAAO,GAQRJ,IAAA,CARCI,OAAO;IACPC,MAAA,GAODL,IAAA,CAPCK,MAAA;EAQA,IAAMC,EAAE,GAAGR,kBAAkB,CAAC,YAAY,CAAC;EAE3C,IAAMS,OAAO,GAAGZ,QAAQ,CAAC;IAAA,OAAO;MAC9BM,IAAI,EAAEA,IAAI,CAACO,KAAK;MAChBN,YAAY,EAAEA,YAAY,CAACM,KAAK;MAChCL,MAAM,EAAEA,MAAM,CAACK,KAAK;MACpBJ,OAAO,EAAEA,OAAO,CAACI,KAAK;MACtBH,MAAM,EAAEA,MAAM,CAACG;IACjB,CAAC;EAAA,CAAC,CAAC;EAEH,IAAIC,UAAuC,GAAG,IAAI;EAClDb,KAAK,CAACW,OAAO,EAAE,YAAM;IAAA,IAAAG,WAAA;IACnB,IAAIb,SAAS,CAACY,UAAU,EAAEF,OAAO,CAACC,KAAK,CAAC,EAAE;;IAE1C;IACA,IAAI,EAAAE,WAAA,GAAAD,UAAU,cAAAC,WAAA,uBAAVA,WAAA,CAAYL,MAAM,MAAKE,OAAO,CAACC,KAAK,CAACH,MAAM,EAAE;MAC/CJ,IAAI,CAACO,KAAK,GAAG,CAAC;IAChB;IAEAF,EAAE,CAACK,IAAI,CAAC,gBAAgB,EAAEJ,OAAO,CAACC,KAAK,CAAC;IACxCC,UAAU,GAAGF,OAAO,CAACC,KAAK;EAC5B,CAAC,EAAE;IAAEI,IAAI,EAAE,IAAI;IAAEC,SAAS,EAAE;EAAK,CAAC,CAAC;AACrC"},"metadata":{},"sourceType":"module","externalDependencies":[]}