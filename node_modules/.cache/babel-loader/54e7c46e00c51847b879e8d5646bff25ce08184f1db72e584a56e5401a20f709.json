{"ast":null,"code":"import _objectSpread from \"/Applications/XAMPP/xamppfiles/htdocs/neus/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { withDirectives as _withDirectives, resolveDirective as _resolveDirective, createVNode as _createVNode } from \"vue\";\n// Composables\nimport { makeComponentProps } from \"../../composables/component.mjs\";\nimport { makeDimensionProps, useDimension } from \"../../composables/dimensions.mjs\";\nimport { useProxiedModel } from \"../../composables/proxiedModel.mjs\";\nimport { makeTagProps } from \"../../composables/tag.mjs\";\nimport { makeTransitionProps, MaybeTransition } from \"../../composables/transition.mjs\"; // Directives\nimport intersect from \"../../directives/intersect/index.mjs\"; // Utilities\nimport { genericComponent, propsFactory, useRender } from \"../../util/index.mjs\"; // Types\nexport var makeVLazyProps = propsFactory(_objectSpread(_objectSpread(_objectSpread(_objectSpread({\n  modelValue: Boolean,\n  options: {\n    type: Object,\n    // For more information on types, navigate to:\n    // https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API\n    \"default\": function _default() {\n      return {\n        root: undefined,\n        rootMargin: undefined,\n        threshold: undefined\n      };\n    }\n  }\n}, makeComponentProps()), makeDimensionProps()), makeTagProps()), makeTransitionProps({\n  transition: 'fade-transition'\n})), 'VLazy');\nexport var VLazy = genericComponent()({\n  name: 'VLazy',\n  directives: {\n    intersect: intersect\n  },\n  props: makeVLazyProps(),\n  emits: {\n    'update:modelValue': function updateModelValue(value) {\n      return true;\n    }\n  },\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n    var _useDimension = useDimension(props),\n      dimensionStyles = _useDimension.dimensionStyles;\n    var isActive = useProxiedModel(props, 'modelValue');\n    function onIntersect(isIntersecting) {\n      if (isActive.value) return;\n      isActive.value = isIntersecting;\n    }\n    useRender(function () {\n      return _withDirectives(_createVNode(props.tag, {\n        \"class\": ['v-lazy', props[\"class\"]],\n        \"style\": [dimensionStyles.value, props.style]\n      }, {\n        \"default\": function _default() {\n          return [isActive.value && _createVNode(MaybeTransition, {\n            \"transition\": props.transition,\n            \"appear\": true\n          }, {\n            \"default\": function _default() {\n              var _slots$default;\n              return [(_slots$default = slots[\"default\"]) === null || _slots$default === void 0 ? void 0 : _slots$default.call(slots)];\n            }\n          })];\n        }\n      }), [[_resolveDirective(\"intersect\"), {\n        handler: onIntersect,\n        options: props.options\n      }, null]]);\n    });\n    return {};\n  }\n});","map":{"version":3,"names":["makeComponentProps","makeDimensionProps","useDimension","useProxiedModel","makeTagProps","makeTransitionProps","MaybeTransition","intersect","genericComponent","propsFactory","useRender","makeVLazyProps","_objectSpread","modelValue","Boolean","options","type","Object","_default","root","undefined","rootMargin","threshold","transition","VLazy","name","directives","props","emits","updateModelValue","value","setup","_ref","slots","_useDimension","dimensionStyles","isActive","onIntersect","isIntersecting","_withDirectives","_createVNode","tag","style","_slots$default","call","_resolveDirective","handler"],"sources":["../../../src/components/VLazy/VLazy.tsx"],"sourcesContent":["// Composables\nimport { makeComponentProps } from '@/composables/component'\nimport { makeDimensionProps, useDimension } from '@/composables/dimensions'\nimport { useProxiedModel } from '@/composables/proxiedModel'\nimport { makeTagProps } from '@/composables/tag'\nimport { makeTransitionProps, MaybeTransition } from '@/composables/transition'\n\n// Directives\nimport intersect from '@/directives/intersect'\n\n// Utilities\nimport { genericComponent, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\n\nexport const makeVLazyProps = propsFactory({\n  modelValue: Boolean,\n  options: {\n    type: Object as PropType<IntersectionObserverInit>,\n    // For more information on types, navigate to:\n    // https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API\n    default: () => ({\n      root: undefined,\n      rootMargin: undefined,\n      threshold: undefined,\n    }),\n  },\n\n  ...makeComponentProps(),\n  ...makeDimensionProps(),\n  ...makeTagProps(),\n  ...makeTransitionProps({ transition: 'fade-transition' }),\n}, 'VLazy')\n\nexport const VLazy = genericComponent()({\n  name: 'VLazy',\n\n  directives: { intersect },\n\n  props: makeVLazyProps(),\n\n  emits: {\n    'update:modelValue': (value: boolean) => true,\n  },\n\n  setup (props, { slots }) {\n    const { dimensionStyles } = useDimension(props)\n\n    const isActive = useProxiedModel(props, 'modelValue')\n\n    function onIntersect (isIntersecting: boolean) {\n      if (isActive.value) return\n\n      isActive.value = isIntersecting\n    }\n\n    useRender(() => (\n      <props.tag\n        class={[\n          'v-lazy',\n          props.class,\n        ]}\n        v-intersect={[\n          {\n            handler: onIntersect,\n            options: props.options,\n          },\n          null,\n          isActive.value ? [] : ['once'],\n        ]}\n        style={[\n          dimensionStyles.value,\n          props.style,\n        ]}\n      >\n        { isActive.value && (\n          <MaybeTransition transition={ props.transition } appear>\n            { slots.default?.() }\n          </MaybeTransition>\n        )}\n      </props.tag>\n    ))\n\n    return {}\n  },\n})\n\nexport type VLazy = InstanceType<typeof VLazy>\n"],"mappings":";;AAAA;AAAA,SACSA,kBAAkB;AAAA,SAClBC,kBAAkB,EAAEC,YAAY;AAAA,SAChCC,eAAe;AAAA,SACfC,YAAY;AAAA,SACZC,mBAAmB,EAAEC,eAAe,4CAE7C;AAAA,OACOC,SAAS,8CAEhB;AAAA,SACSC,gBAAgB,EAAEC,YAAY,EAAEC,SAAS,gCAElD;AAGA,OAAO,IAAMC,cAAc,GAAGF,YAAY,CAAAG,aAAA,CAAAA,aAAA,CAAAA,aAAA,CAAAA,aAAA;EACxCC,UAAU,EAAEC,OAAO;EACnBC,OAAO,EAAE;IACPC,IAAI,EAAEC,MAA4C;IAClD;IACA;IACA,WAAS,SAAAC,SAAA;MAAA,OAAO;QACdC,IAAI,EAAEC,SAAS;QACfC,UAAU,EAAED,SAAS;QACrBE,SAAS,EAAEF;MACb,CAAC;IAAA;EACH;AAAC,GAEEpB,kBAAkB,CAAC,CAAC,GACpBC,kBAAkB,CAAC,CAAC,GACpBG,YAAY,CAAC,CAAC,GACdC,mBAAmB,CAAC;EAAEkB,UAAU,EAAE;AAAkB,CAAC,IACvD,OAAO,CAAC;AAEX,OAAO,IAAMC,KAAK,GAAGhB,gBAAgB,CAAC,CAAC,CAAC;EACtCiB,IAAI,EAAE,OAAO;EAEbC,UAAU,EAAE;IAAEnB,SAAA,EAAAA;EAAU,CAAC;EAEzBoB,KAAK,EAAEhB,cAAc,CAAC,CAAC;EAEvBiB,KAAK,EAAE;IACL,mBAAmB,EAAG,SAAAC,iBAAAC,KAAc;MAAA,OAAK;IAAA;EAC3C,CAAC;EAEDC,KAAK,WAAAA,MAAEJ,KAAK,EAAAK,IAAA,EAAa;IAAA,IAATC,KAAA,GAAOD,IAAA,CAAPC,KAAA;IACd,IAAAC,aAAA,GAA4BhC,YAAY,CAACyB,KAAK,CAAC;MAAvCQ,eAAA,GAAAD,aAAA,CAAAC,eAAA;IAER,IAAMC,QAAQ,GAAGjC,eAAe,CAACwB,KAAK,EAAE,YAAY,CAAC;IAErD,SAASU,WAAWA,CAAEC,cAAuB,EAAE;MAC7C,IAAIF,QAAQ,CAACN,KAAK,EAAE;MAEpBM,QAAQ,CAACN,KAAK,GAAGQ,cAAc;IACjC;IAEA5B,SAAS,CAAC;MAAA,OAAA6B,eAAA,CAAAC,YAAA,CAAAb,KAAA,CAAAc,GAAA;QAAA,SAEC,CACL,QAAQ,EACRd,KAAK,SAAM,CACZ;QAAA,SASM,CACLQ,eAAe,CAACL,KAAK,EACrBH,KAAK,CAACe,KAAK;MACZ;QAAA,oBAAAxB,SAAA;UAAA,QAECkB,QAAQ,CAACN,KAAK,IAAAU,YAAA,CAAAlC,eAAA;YAAA,cACgBqB,KAAK,CAACJ,UAAU;YAAA;UAAA;YAAA,oBAAAL,SAAA;cAAA,IAAAyB,cAAA;cAAA,SAAAA,cAAA,GAC1CV,KAAK,WAAQ,cAAAU,cAAA,uBAAbA,cAAA,CAAAC,IAAA,CAAAX,KAAgB,CAAC;YAAA;UAAA,EAEtB;QAAA;MAAA,MAAAY,iBAAA,eAhBC;QACEC,OAAO,EAAET,WAAW;QACpBtB,OAAO,EAAEY,KAAK,CAACZ;MACjB,CAAC,EACD,IAAI,GAcT;IAAA,EAAC;IAEF,OAAO,CAAC,CAAC;EACX;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}