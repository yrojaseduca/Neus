{"ast":null,"code":"import _objectSpread from \"/Applications/XAMPP/xamppfiles/htdocs/neus/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/web.timers.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport { createVNode as _createVNode, mergeProps as _mergeProps, Fragment as _Fragment } from \"vue\";\n// Styles\nimport \"./VCarousel.css\";\n\n// Components\nimport { VBtn } from \"../VBtn/index.mjs\";\nimport { VDefaultsProvider } from \"../VDefaultsProvider/index.mjs\";\nimport { VProgressLinear } from \"../VProgressLinear/index.mjs\";\nimport { makeVWindowProps, VWindow } from \"../VWindow/VWindow.mjs\"; // Composables\nimport { IconValue } from \"../../composables/icons.mjs\";\nimport { useLocale } from \"../../composables/locale.mjs\";\nimport { useProxiedModel } from \"../../composables/proxiedModel.mjs\"; // Utilities\nimport { onMounted, ref, watch } from 'vue';\nimport { convertToUnit, genericComponent, propsFactory, useRender } from \"../../util/index.mjs\"; // Types\nexport var makeVCarouselProps = propsFactory(_objectSpread({\n  color: String,\n  cycle: Boolean,\n  delimiterIcon: {\n    type: IconValue,\n    \"default\": '$delimiter'\n  },\n  height: {\n    type: [Number, String],\n    \"default\": 500\n  },\n  hideDelimiters: Boolean,\n  hideDelimiterBackground: Boolean,\n  interval: {\n    type: [Number, String],\n    \"default\": 6000,\n    validator: function validator(value) {\n      return Number(value) > 0;\n    }\n  },\n  progress: [Boolean, String],\n  verticalDelimiters: [Boolean, String]\n}, makeVWindowProps({\n  continuous: true,\n  mandatory: 'force',\n  showArrows: true\n})), 'VCarousel');\nexport var VCarousel = genericComponent()({\n  name: 'VCarousel',\n  props: makeVCarouselProps(),\n  emits: {\n    'update:modelValue': function updateModelValue(value) {\n      return true;\n    }\n  },\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n    var model = useProxiedModel(props, 'modelValue');\n    var _useLocale = useLocale(),\n      t = _useLocale.t;\n    var windowRef = ref();\n    var slideTimeout = -1;\n    watch(model, restartTimeout);\n    watch(function () {\n      return props.interval;\n    }, restartTimeout);\n    watch(function () {\n      return props.cycle;\n    }, function (val) {\n      if (val) restartTimeout();else window.clearTimeout(slideTimeout);\n    });\n    onMounted(startTimeout);\n    function startTimeout() {\n      if (!props.cycle || !windowRef.value) return;\n      slideTimeout = window.setTimeout(windowRef.value.group.next, +props.interval > 0 ? +props.interval : 6000);\n    }\n    function restartTimeout() {\n      window.clearTimeout(slideTimeout);\n      window.requestAnimationFrame(startTimeout);\n    }\n    useRender(function () {\n      var windowProps = VWindow.filterProps(props);\n      return _createVNode(VWindow, _mergeProps({\n        \"ref\": windowRef\n      }, windowProps, {\n        \"modelValue\": model.value,\n        \"onUpdate:modelValue\": function onUpdateModelValue($event) {\n          return model.value = $event;\n        },\n        \"class\": ['v-carousel', {\n          'v-carousel--hide-delimiter-background': props.hideDelimiterBackground,\n          'v-carousel--vertical-delimiters': props.verticalDelimiters\n        }, props[\"class\"]],\n        \"style\": [{\n          height: convertToUnit(props.height)\n        }, props.style]\n      }), {\n        \"default\": slots[\"default\"],\n        additional: function additional(_ref2) {\n          var group = _ref2.group;\n          return _createVNode(_Fragment, null, [!props.hideDelimiters && _createVNode(\"div\", {\n            \"class\": \"v-carousel__controls\",\n            \"style\": {\n              left: props.verticalDelimiters === 'left' && props.verticalDelimiters ? 0 : 'auto',\n              right: props.verticalDelimiters === 'right' ? 0 : 'auto'\n            }\n          }, [group.items.value.length > 0 && _createVNode(VDefaultsProvider, {\n            \"defaults\": {\n              VBtn: {\n                color: props.color,\n                icon: props.delimiterIcon,\n                size: 'x-small',\n                variant: 'text'\n              }\n            },\n            \"scoped\": true\n          }, {\n            \"default\": function _default() {\n              return [group.items.value.map(function (item, index) {\n                var props = {\n                  id: \"carousel-item-\".concat(item.id),\n                  'aria-label': t('$vuetify.carousel.ariaLabel.delimiter', index + 1, group.items.value.length),\n                  \"class\": ['v-carousel__controls__item', group.isSelected(item.id) && 'v-btn--active'],\n                  onClick: function onClick() {\n                    return group.select(item.id, true);\n                  }\n                };\n                return slots.item ? slots.item({\n                  props: props,\n                  item: item\n                }) : _createVNode(VBtn, _mergeProps(item, props), null);\n              })];\n            }\n          })]), props.progress && _createVNode(VProgressLinear, {\n            \"class\": \"v-carousel__progress\",\n            \"color\": typeof props.progress === 'string' ? props.progress : undefined,\n            \"modelValue\": (group.getItemIndex(model.value) + 1) / group.items.value.length * 100\n          }, null)]);\n        },\n        prev: slots.prev,\n        next: slots.next\n      });\n    });\n    return {};\n  }\n});","map":{"version":3,"names":["VBtn","VDefaultsProvider","VProgressLinear","makeVWindowProps","VWindow","IconValue","useLocale","useProxiedModel","onMounted","ref","watch","convertToUnit","genericComponent","propsFactory","useRender","makeVCarouselProps","_objectSpread","color","String","cycle","Boolean","delimiterIcon","type","height","Number","hideDelimiters","hideDelimiterBackground","interval","validator","value","progress","verticalDelimiters","continuous","mandatory","showArrows","VCarousel","name","props","emits","updateModelValue","setup","_ref","slots","model","_useLocale","t","windowRef","slideTimeout","restartTimeout","val","window","clearTimeout","startTimeout","setTimeout","group","next","requestAnimationFrame","windowProps","filterProps","_createVNode","_mergeProps","onUpdateModelValue","$event","style","additional","_ref2","_Fragment","left","right","items","length","icon","size","variant","_default","map","item","index","id","concat","isSelected","onClick","select","undefined","getItemIndex","prev"],"sources":["../../../src/components/VCarousel/VCarousel.tsx"],"sourcesContent":["// Styles\nimport './VCarousel.sass'\n\n// Components\nimport { VBtn } from '@/components/VBtn'\nimport { VDefaultsProvider } from '@/components/VDefaultsProvider'\nimport { VProgressLinear } from '@/components/VProgressLinear'\nimport { makeVWindowProps, VWindow } from '@/components/VWindow/VWindow'\n\n// Composables\nimport { IconValue } from '@/composables/icons'\nimport { useLocale } from '@/composables/locale'\nimport { useProxiedModel } from '@/composables/proxiedModel'\n\n// Utilities\nimport { onMounted, ref, watch } from 'vue'\nimport { convertToUnit, genericComponent, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\nimport type { VWindowSlots } from '@/components/VWindow/VWindow'\nimport type { GroupProvide } from '@/composables/group'\nimport type { GenericProps } from '@/util'\n\nexport const makeVCarouselProps = propsFactory({\n  color: String,\n  cycle: Boolean,\n  delimiterIcon: {\n    type: IconValue,\n    default: '$delimiter',\n  },\n  height: {\n    type: [Number, String],\n    default: 500,\n  },\n  hideDelimiters: Boolean,\n  hideDelimiterBackground: Boolean,\n  interval: {\n    type: [Number, String],\n    default: 6000,\n    validator: (value: string | number) => Number(value) > 0,\n  },\n  progress: [Boolean, String],\n  verticalDelimiters: [Boolean, String] as PropType<boolean | 'left' | 'right'>,\n\n  ...makeVWindowProps({\n    continuous: true,\n    mandatory: 'force' as const,\n    showArrows: true,\n  }),\n}, 'VCarousel')\n\ntype VCarouselSlots = VWindowSlots & {\n  item: {\n    props: Record<string, any>\n    item: {\n      id: number\n      value: unknown\n      disabled: boolean | undefined\n    }\n  }\n}\n\nexport const VCarousel = genericComponent<new <T>(\n  props: {\n    modelValue?: T\n    'onUpdate:modelValue'?: (value: T) => void\n  },\n  slots: VCarouselSlots,\n) => GenericProps<typeof props, typeof slots>>()({\n  name: 'VCarousel',\n\n  props: makeVCarouselProps(),\n\n  emits: {\n    'update:modelValue': (value: any) => true,\n  },\n\n  setup (props, { slots }) {\n    const model = useProxiedModel(props, 'modelValue')\n    const { t } = useLocale()\n    const windowRef = ref<VWindow>()\n\n    let slideTimeout = -1\n    watch(model, restartTimeout)\n    watch(() => props.interval, restartTimeout)\n    watch(() => props.cycle, val => {\n      if (val) restartTimeout()\n      else window.clearTimeout(slideTimeout)\n    })\n\n    onMounted(startTimeout)\n\n    function startTimeout () {\n      if (!props.cycle || !windowRef.value) return\n\n      slideTimeout = window.setTimeout(windowRef.value.group.next, +props.interval > 0 ? +props.interval : 6000)\n    }\n\n    function restartTimeout () {\n      window.clearTimeout(slideTimeout)\n      window.requestAnimationFrame(startTimeout)\n    }\n\n    useRender(() => {\n      const windowProps = VWindow.filterProps(props)\n\n      return (\n        <VWindow\n          ref={ windowRef }\n          { ...windowProps }\n          v-model={ model.value }\n          class={[\n            'v-carousel',\n            {\n              'v-carousel--hide-delimiter-background': props.hideDelimiterBackground,\n              'v-carousel--vertical-delimiters': props.verticalDelimiters,\n            },\n            props.class,\n          ]}\n          style={[\n            { height: convertToUnit(props.height) },\n            props.style,\n          ]}\n        >\n          {{\n            default: slots.default,\n            additional: ({ group }: { group: GroupProvide }) => (\n              <>\n                { !props.hideDelimiters && (\n                  <div\n                    class=\"v-carousel__controls\"\n                    style={{\n                      left: props.verticalDelimiters === 'left' && props.verticalDelimiters ? 0 : 'auto',\n                      right: props.verticalDelimiters === 'right' ? 0 : 'auto',\n                    }}\n                  >\n                    { group.items.value.length > 0 && (\n                      <VDefaultsProvider\n                        defaults={{\n                          VBtn: {\n                            color: props.color,\n                            icon: props.delimiterIcon,\n                            size: 'x-small',\n                            variant: 'text',\n                          },\n                        }}\n                        scoped\n                      >\n                        { group.items.value.map((item, index) => {\n                          const props = {\n                            id: `carousel-item-${item.id}`,\n                            'aria-label': t('$vuetify.carousel.ariaLabel.delimiter', index + 1, group.items.value.length),\n                            class: [\n                              'v-carousel__controls__item',\n                              group.isSelected(item.id) && 'v-btn--active',\n                            ],\n                            onClick: () => group.select(item.id, true),\n                          }\n\n                          return slots.item\n                            ? slots.item({ props, item })\n                            : (<VBtn { ...item } { ...props } />)\n                        })}\n                      </VDefaultsProvider>\n                    )}\n                  </div>\n                )}\n\n                { props.progress && (\n                  <VProgressLinear\n                    class=\"v-carousel__progress\"\n                    color={ typeof props.progress === 'string' ? props.progress : undefined }\n                    modelValue={ (group.getItemIndex(model.value) + 1) / group.items.value.length * 100 }\n                  />\n                )}\n              </>\n            ),\n            prev: slots.prev,\n            next: slots.next,\n          }}\n        </VWindow>\n      )\n    })\n\n    return {}\n  },\n})\n\nexport type VCarousel = InstanceType<typeof VCarousel>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}