{"ast":null,"code":"import _objectSpread from \"/Applications/XAMPP/xamppfiles/htdocs/neus/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.math.sign.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.fill.js\";\nimport \"core-js/modules/es.string.fixed.js\";\nimport { mergeProps as _mergeProps, createVNode as _createVNode, Fragment as _Fragment } from \"vue\";\n// Styles\nimport \"./VTab.css\";\n\n// Components\nimport { makeVBtnProps, VBtn } from \"../VBtn/VBtn.mjs\"; // Composables\nimport { useTextColor } from \"../../composables/color.mjs\";\nimport { forwardRefs } from \"../../composables/forwardRefs.mjs\"; // Utilities\nimport { computed, ref } from 'vue';\nimport { VTabsSymbol } from \"./shared.mjs\";\nimport { animate, genericComponent, omit, propsFactory, standardEasing, useRender } from \"../../util/index.mjs\"; // Types\nexport var makeVTabProps = propsFactory(_objectSpread({\n  fixed: Boolean,\n  sliderColor: String,\n  hideSlider: Boolean,\n  direction: {\n    type: String,\n    \"default\": 'horizontal'\n  }\n}, omit(makeVBtnProps({\n  selectedClass: 'v-tab--selected',\n  variant: 'text'\n}), ['active', 'block', 'flat', 'location', 'position', 'symbol'])), 'VTab');\nexport var VTab = genericComponent()({\n  name: 'VTab',\n  props: makeVTabProps(),\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots,\n      attrs = _ref.attrs;\n    var _useTextColor = useTextColor(props, 'sliderColor'),\n      sliderColorClasses = _useTextColor.textColorClasses,\n      sliderColorStyles = _useTextColor.textColorStyles;\n    var rootEl = ref();\n    var sliderEl = ref();\n    var isHorizontal = computed(function () {\n      return props.direction === 'horizontal';\n    });\n    var isSelected = computed(function () {\n      var _rootEl$value$group$i, _rootEl$value;\n      return (_rootEl$value$group$i = (_rootEl$value = rootEl.value) === null || _rootEl$value === void 0 || (_rootEl$value = _rootEl$value.group) === null || _rootEl$value === void 0 ? void 0 : _rootEl$value.isSelected.value) !== null && _rootEl$value$group$i !== void 0 ? _rootEl$value$group$i : false;\n    });\n    function updateSlider(_ref2) {\n      var value = _ref2.value;\n      if (value) {\n        var _rootEl$value2;\n        var prevEl = (_rootEl$value2 = rootEl.value) === null || _rootEl$value2 === void 0 || (_rootEl$value2 = _rootEl$value2.$el.parentElement) === null || _rootEl$value2 === void 0 ? void 0 : _rootEl$value2.querySelector('.v-tab--selected .v-tab__slider');\n        var nextEl = sliderEl.value;\n        if (!prevEl || !nextEl) return;\n        var color = getComputedStyle(prevEl).color;\n        var prevBox = prevEl.getBoundingClientRect();\n        var nextBox = nextEl.getBoundingClientRect();\n        var xy = isHorizontal.value ? 'x' : 'y';\n        var XY = isHorizontal.value ? 'X' : 'Y';\n        var rightBottom = isHorizontal.value ? 'right' : 'bottom';\n        var widthHeight = isHorizontal.value ? 'width' : 'height';\n        var prevPos = prevBox[xy];\n        var nextPos = nextBox[xy];\n        var delta = prevPos > nextPos ? prevBox[rightBottom] - nextBox[rightBottom] : prevBox[xy] - nextBox[xy];\n        var origin = Math.sign(delta) > 0 ? isHorizontal.value ? 'right' : 'bottom' : Math.sign(delta) < 0 ? isHorizontal.value ? 'left' : 'top' : 'center';\n        var size = Math.abs(delta) + (Math.sign(delta) < 0 ? prevBox[widthHeight] : nextBox[widthHeight]);\n        var scale = size / Math.max(prevBox[widthHeight], nextBox[widthHeight]) || 0;\n        var initialScale = prevBox[widthHeight] / nextBox[widthHeight] || 0;\n        var sigma = 1.5;\n        animate(nextEl, {\n          backgroundColor: [color, 'currentcolor'],\n          transform: [\"translate\".concat(XY, \"(\").concat(delta, \"px) scale\").concat(XY, \"(\").concat(initialScale, \")\"), \"translate\".concat(XY, \"(\").concat(delta / sigma, \"px) scale\").concat(XY, \"(\").concat((scale - 1) / sigma + 1, \")\"), 'none'],\n          transformOrigin: Array(3).fill(origin)\n        }, {\n          duration: 225,\n          easing: standardEasing\n        });\n      }\n    }\n    useRender(function () {\n      var btnProps = VBtn.filterProps(props);\n      return _createVNode(VBtn, _mergeProps({\n        \"symbol\": VTabsSymbol,\n        \"ref\": rootEl,\n        \"class\": ['v-tab', props[\"class\"]],\n        \"style\": props.style,\n        \"tabindex\": isSelected.value ? 0 : -1,\n        \"role\": \"tab\",\n        \"aria-selected\": String(isSelected.value),\n        \"active\": false\n      }, btnProps, attrs, {\n        \"block\": props.fixed,\n        \"maxWidth\": props.fixed ? 300 : undefined,\n        \"onGroup:selected\": updateSlider\n      }), _objectSpread(_objectSpread({}, slots), {}, {\n        \"default\": function _default() {\n          var _slots$default, _slots$default2;\n          return _createVNode(_Fragment, null, [(_slots$default = (_slots$default2 = slots[\"default\"]) === null || _slots$default2 === void 0 ? void 0 : _slots$default2.call(slots)) !== null && _slots$default !== void 0 ? _slots$default : props.text, !props.hideSlider && _createVNode(\"div\", {\n            \"ref\": sliderEl,\n            \"class\": ['v-tab__slider', sliderColorClasses.value],\n            \"style\": sliderColorStyles.value\n          }, null)]);\n        }\n      }));\n    });\n    return forwardRefs({}, rootEl);\n  }\n});","map":{"version":3,"names":["makeVBtnProps","VBtn","useTextColor","forwardRefs","computed","ref","VTabsSymbol","animate","genericComponent","omit","propsFactory","standardEasing","useRender","makeVTabProps","_objectSpread","fixed","Boolean","sliderColor","String","hideSlider","direction","type","selectedClass","variant","VTab","name","props","setup","_ref","slots","attrs","_useTextColor","sliderColorClasses","textColorClasses","sliderColorStyles","textColorStyles","rootEl","sliderEl","isHorizontal","isSelected","_rootEl$value$group$i","_rootEl$value","value","group","updateSlider","_ref2","_rootEl$value2","prevEl","$el","parentElement","querySelector","nextEl","color","getComputedStyle","prevBox","getBoundingClientRect","nextBox","xy","XY","rightBottom","widthHeight","prevPos","nextPos","delta","origin","Math","sign","size","abs","scale","max","initialScale","sigma","backgroundColor","transform","concat","transformOrigin","Array","fill","duration","easing","btnProps","filterProps","_createVNode","_mergeProps","style","undefined","_default","_slots$default","_slots$default2","_Fragment","call","text"],"sources":["../../../src/components/VTabs/VTab.tsx"],"sourcesContent":["// Styles\nimport './VTab.sass'\n\n// Components\nimport { makeVBtnProps, VBtn } from '@/components/VBtn/VBtn'\n\n// Composables\nimport { useTextColor } from '@/composables/color'\nimport { forwardRefs } from '@/composables/forwardRefs'\n\n// Utilities\nimport { computed, ref } from 'vue'\nimport { VTabsSymbol } from './shared'\nimport { animate, genericComponent, omit, propsFactory, standardEasing, useRender } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\nimport type { VBtnSlots } from '@/components/VBtn/VBtn'\n\nexport const makeVTabProps = propsFactory({\n  fixed: Boolean,\n\n  sliderColor: String,\n  hideSlider: Boolean,\n\n  direction: {\n    type: String as PropType<'horizontal' | 'vertical'>,\n    default: 'horizontal',\n  },\n\n  ...omit(makeVBtnProps({\n    selectedClass: 'v-tab--selected',\n    variant: 'text' as const,\n  }), [\n    'active',\n    'block',\n    'flat',\n    'location',\n    'position',\n    'symbol',\n  ]),\n}, 'VTab')\n\nexport const VTab = genericComponent<VBtnSlots>()({\n  name: 'VTab',\n\n  props: makeVTabProps(),\n\n  setup (props, { slots, attrs }) {\n    const { textColorClasses: sliderColorClasses, textColorStyles: sliderColorStyles } = useTextColor(props, 'sliderColor')\n\n    const rootEl = ref<VBtn>()\n    const sliderEl = ref<HTMLElement>()\n\n    const isHorizontal = computed(() => props.direction === 'horizontal')\n    const isSelected = computed(() => rootEl.value?.group?.isSelected.value ?? false)\n\n    function updateSlider ({ value }: { value: boolean }) {\n      if (value) {\n        const prevEl: HTMLElement | undefined = rootEl.value?.$el.parentElement?.querySelector('.v-tab--selected .v-tab__slider')\n        const nextEl = sliderEl.value\n\n        if (!prevEl || !nextEl) return\n\n        const color = getComputedStyle(prevEl).color\n\n        const prevBox = prevEl.getBoundingClientRect()\n        const nextBox = nextEl.getBoundingClientRect()\n\n        const xy = isHorizontal.value ? 'x' : 'y'\n        const XY = isHorizontal.value ? 'X' : 'Y'\n        const rightBottom = isHorizontal.value ? 'right' : 'bottom'\n        const widthHeight = isHorizontal.value ? 'width' : 'height'\n\n        const prevPos = prevBox[xy]\n        const nextPos = nextBox[xy]\n        const delta = prevPos > nextPos\n          ? prevBox[rightBottom] - nextBox[rightBottom]\n          : prevBox[xy] - nextBox[xy]\n        const origin =\n          Math.sign(delta) > 0 ? (isHorizontal.value ? 'right' : 'bottom')\n          : Math.sign(delta) < 0 ? (isHorizontal.value ? 'left' : 'top')\n          : 'center'\n        const size = Math.abs(delta) + (Math.sign(delta) < 0 ? prevBox[widthHeight] : nextBox[widthHeight])\n        const scale = size / Math.max(prevBox[widthHeight], nextBox[widthHeight]) || 0\n        const initialScale = prevBox[widthHeight] / nextBox[widthHeight] || 0\n\n        const sigma = 1.5\n        animate(nextEl, {\n          backgroundColor: [color, 'currentcolor'],\n          transform: [\n            `translate${XY}(${delta}px) scale${XY}(${initialScale})`,\n            `translate${XY}(${delta / sigma}px) scale${XY}(${(scale - 1) / sigma + 1})`,\n            'none',\n          ],\n          transformOrigin: Array(3).fill(origin),\n        }, {\n          duration: 225,\n          easing: standardEasing,\n        })\n      }\n    }\n\n    useRender(() => {\n      const btnProps = VBtn.filterProps(props)\n\n      return (\n        <VBtn\n          symbol={ VTabsSymbol }\n          ref={ rootEl }\n          class={[\n            'v-tab',\n            props.class,\n          ]}\n          style={ props.style }\n          tabindex={ isSelected.value ? 0 : -1 }\n          role=\"tab\"\n          aria-selected={ String(isSelected.value) }\n          active={ false }\n          { ...btnProps }\n          { ...attrs }\n          block={ props.fixed }\n          maxWidth={ props.fixed ? 300 : undefined }\n          onGroup:selected={ updateSlider }\n        >\n          {{\n            ...slots,\n            default: () => (\n              <>\n                { slots.default?.() ?? props.text }\n\n                { !props.hideSlider && (\n                  <div\n                    ref={ sliderEl }\n                    class={[\n                      'v-tab__slider',\n                      sliderColorClasses.value,\n                    ]}\n                    style={ sliderColorStyles.value }\n                  />\n                )}\n              </>\n            ),\n          }}\n        </VBtn>\n      )\n    })\n\n    return forwardRefs({}, rootEl)\n  },\n})\n\nexport type VTab = InstanceType<typeof VTab>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}