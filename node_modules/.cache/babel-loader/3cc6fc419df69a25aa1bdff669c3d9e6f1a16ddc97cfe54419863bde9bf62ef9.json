{"ast":null,"code":"import _regeneratorRuntime from \"/Applications/XAMPP/xamppfiles/htdocs/neus/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Applications/XAMPP/xamppfiles/htdocs/neus/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"/Applications/XAMPP/xamppfiles/htdocs/neus/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { createVNode as _createVNode } from \"vue\";\n// Styles\nimport \"./VColorPickerPreview.css\";\n\n// Components\nimport { VBtn } from \"../VBtn/index.mjs\";\nimport { VSlider } from \"../VSlider/index.mjs\"; // Composables\nimport { makeComponentProps } from \"../../composables/component.mjs\"; // Utilities\nimport { onUnmounted } from 'vue';\nimport { nullColor } from \"./util/index.mjs\";\nimport { defineComponent, HexToHSV, HSVtoCSS, propsFactory, SUPPORTS_EYE_DROPPER, useRender } from \"../../util/index.mjs\"; // Types\nexport var makeVColorPickerPreviewProps = propsFactory(_objectSpread({\n  color: {\n    type: Object\n  },\n  disabled: Boolean,\n  hideAlpha: Boolean\n}, makeComponentProps()), 'VColorPickerPreview');\nexport var VColorPickerPreview = defineComponent({\n  name: 'VColorPickerPreview',\n  props: makeVColorPickerPreviewProps(),\n  emits: {\n    'update:color': function updateColor(color) {\n      return true;\n    }\n  },\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit;\n    var abortController = new AbortController();\n    onUnmounted(function () {\n      return abortController.abort();\n    });\n    function openEyeDropper() {\n      return _openEyeDropper.apply(this, arguments);\n    }\n    function _openEyeDropper() {\n      _openEyeDropper = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var eyeDropper, _props$color6, result, colorHexValue;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              if (SUPPORTS_EYE_DROPPER) {\n                _context.next = 2;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 2:\n              eyeDropper = new window.EyeDropper();\n              _context.prev = 3;\n              _context.next = 6;\n              return eyeDropper.open({\n                signal: abortController.signal\n              });\n            case 6:\n              result = _context.sent;\n              colorHexValue = HexToHSV(result.sRGBHex);\n              emit('update:color', _objectSpread(_objectSpread({}, (_props$color6 = props.color) !== null && _props$color6 !== void 0 ? _props$color6 : nullColor), colorHexValue));\n              _context.next = 13;\n              break;\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](3);\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[3, 11]]);\n      }));\n      return _openEyeDropper.apply(this, arguments);\n    }\n    useRender(function () {\n      var _props$color, _props$color2, _props$color$a, _props$color4;\n      return _createVNode(\"div\", {\n        \"class\": ['v-color-picker-preview', {\n          'v-color-picker-preview--hide-alpha': props.hideAlpha\n        }, props[\"class\"]],\n        \"style\": props.style\n      }, [SUPPORTS_EYE_DROPPER && _createVNode(\"div\", {\n        \"class\": \"v-color-picker-preview__eye-dropper\",\n        \"key\": \"eyeDropper\"\n      }, [_createVNode(VBtn, {\n        \"onClick\": openEyeDropper,\n        \"icon\": \"$eyeDropper\",\n        \"variant\": \"plain\",\n        \"density\": \"comfortable\"\n      }, null)]), _createVNode(\"div\", {\n        \"class\": \"v-color-picker-preview__dot\"\n      }, [_createVNode(\"div\", {\n        \"style\": {\n          background: HSVtoCSS((_props$color = props.color) !== null && _props$color !== void 0 ? _props$color : nullColor)\n        }\n      }, null)]), _createVNode(\"div\", {\n        \"class\": \"v-color-picker-preview__sliders\"\n      }, [_createVNode(VSlider, {\n        \"class\": \"v-color-picker-preview__track v-color-picker-preview__hue\",\n        \"modelValue\": (_props$color2 = props.color) === null || _props$color2 === void 0 ? void 0 : _props$color2.h,\n        \"onUpdate:modelValue\": function onUpdateModelValue(h) {\n          var _props$color3;\n          return emit('update:color', _objectSpread(_objectSpread({}, (_props$color3 = props.color) !== null && _props$color3 !== void 0 ? _props$color3 : nullColor), {}, {\n            h: h\n          }));\n        },\n        \"step\": 0,\n        \"min\": 0,\n        \"max\": 360,\n        \"disabled\": props.disabled,\n        \"thumbSize\": 14,\n        \"trackSize\": 8,\n        \"trackFillColor\": \"white\",\n        \"hideDetails\": true\n      }, null), !props.hideAlpha && _createVNode(VSlider, {\n        \"class\": \"v-color-picker-preview__track v-color-picker-preview__alpha\",\n        \"modelValue\": (_props$color$a = (_props$color4 = props.color) === null || _props$color4 === void 0 ? void 0 : _props$color4.a) !== null && _props$color$a !== void 0 ? _props$color$a : 1,\n        \"onUpdate:modelValue\": function onUpdateModelValue(a) {\n          var _props$color5;\n          return emit('update:color', _objectSpread(_objectSpread({}, (_props$color5 = props.color) !== null && _props$color5 !== void 0 ? _props$color5 : nullColor), {}, {\n            a: a\n          }));\n        },\n        \"step\": 1 / 256,\n        \"min\": 0,\n        \"max\": 1,\n        \"disabled\": props.disabled,\n        \"thumbSize\": 14,\n        \"trackSize\": 8,\n        \"trackFillColor\": \"white\",\n        \"hideDetails\": true\n      }, null)])]);\n    });\n    return {};\n  }\n});","map":{"version":3,"names":["VBtn","VSlider","makeComponentProps","onUnmounted","nullColor","defineComponent","HexToHSV","HSVtoCSS","propsFactory","SUPPORTS_EYE_DROPPER","useRender","makeVColorPickerPreviewProps","_objectSpread","color","type","Object","disabled","Boolean","hideAlpha","VColorPickerPreview","name","props","emits","updateColor","setup","_ref","emit","abortController","AbortController","abort","openEyeDropper","_openEyeDropper","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","eyeDropper","_props$color6","result","colorHexValue","wrap","_callee$","_context","prev","next","abrupt","window","EyeDropper","open","signal","sent","sRGBHex","t0","stop","_props$color","_props$color2","_props$color$a","_props$color4","_createVNode","style","background","h","onUpdateModelValue","_props$color3","a","_props$color5"],"sources":["../../../src/components/VColorPicker/VColorPickerPreview.tsx"],"sourcesContent":["// Styles\nimport './VColorPickerPreview.sass'\n\n// Components\nimport { VBtn } from '@/components/VBtn'\nimport { VSlider } from '@/components/VSlider'\n\n// Composables\nimport { makeComponentProps } from '@/composables/component'\n\n// Utilities\nimport { onUnmounted } from 'vue'\nimport { nullColor } from './util'\nimport {\n  defineComponent,\n  HexToHSV,\n  HSVtoCSS,\n  propsFactory,\n  SUPPORTS_EYE_DROPPER,\n  useRender,\n} from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\nimport type { Hex, HSV } from '@/util'\n\nexport const makeVColorPickerPreviewProps = propsFactory({\n  color: {\n    type: Object as PropType<HSV | null>,\n  },\n  disabled: Boolean,\n  hideAlpha: Boolean,\n\n  ...makeComponentProps(),\n}, 'VColorPickerPreview')\n\nexport const VColorPickerPreview = defineComponent({\n  name: 'VColorPickerPreview',\n\n  props: makeVColorPickerPreviewProps(),\n\n  emits: {\n    'update:color': (color: HSV) => true,\n  },\n\n  setup (props, { emit }) {\n    const abortController = new AbortController()\n\n    onUnmounted(() => abortController.abort())\n\n    async function openEyeDropper () {\n      if (!SUPPORTS_EYE_DROPPER) return\n\n      const eyeDropper = new window.EyeDropper()\n      try {\n        const result = await eyeDropper.open({ signal: abortController.signal })\n        const colorHexValue = HexToHSV(result.sRGBHex as Hex)\n        emit('update:color', { ...(props.color ?? nullColor), ...colorHexValue })\n      } catch (e) {}\n    }\n\n    useRender(() => (\n      <div\n        class={[\n          'v-color-picker-preview',\n          {\n            'v-color-picker-preview--hide-alpha': props.hideAlpha,\n          },\n          props.class,\n        ]}\n        style={ props.style }\n      >\n        { SUPPORTS_EYE_DROPPER && (\n          <div class=\"v-color-picker-preview__eye-dropper\" key=\"eyeDropper\">\n            <VBtn onClick={ openEyeDropper } icon=\"$eyeDropper\" variant=\"plain\" density=\"comfortable\" />\n          </div>\n        )}\n\n        <div class=\"v-color-picker-preview__dot\">\n          <div style={{ background: HSVtoCSS(props.color ?? nullColor) }} />\n        </div>\n\n        <div class=\"v-color-picker-preview__sliders\">\n          <VSlider\n            class=\"v-color-picker-preview__track v-color-picker-preview__hue\"\n            modelValue={ props.color?.h }\n            onUpdate:modelValue={ h => emit('update:color', { ...(props.color ?? nullColor), h }) }\n            step={ 0 }\n            min={ 0 }\n            max={ 360 }\n            disabled={ props.disabled }\n            thumbSize={ 14 }\n            trackSize={ 8 }\n            trackFillColor=\"white\"\n            hideDetails\n          />\n\n          { !props.hideAlpha && (\n            <VSlider\n              class=\"v-color-picker-preview__track v-color-picker-preview__alpha\"\n              modelValue={ props.color?.a ?? 1 }\n              onUpdate:modelValue={ a => emit('update:color', { ...(props.color ?? nullColor), a }) }\n              step={ 1 / 256 }\n              min={ 0 }\n              max={ 1 }\n              disabled={ props.disabled }\n              thumbSize={ 14 }\n              trackSize={ 8 }\n              trackFillColor=\"white\"\n              hideDetails\n            />\n          )}\n        </div>\n      </div>\n    ))\n\n    return {}\n  },\n})\n\nexport type VColorPickerPreview = InstanceType<typeof VColorPickerPreview>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}